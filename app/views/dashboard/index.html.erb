<div class="dashboard-container">
  <h1>Agent System Dashboard</h1>
  
  <div class="dashboard-actions">
    <%= link_to "New Project", new_project_path, class: "button button-primary" %>
    <%= link_to "Projects", projects_path, class: "button" %>
  </div>
  
  <div class="dashboard-grid">
    <!-- Projects Section -->
    <div class="dashboard-section">
      <h2>Active Projects</h2>
      <div id="projects-container" class="card-container">
        <%= render partial: "projects", locals: { projects: @projects } %>
      </div>
    </div>
    
    <!-- Agent Activities Section -->
    <div class="dashboard-section">
      <h2>Recent Agent Activities</h2>
      <div id="agent-activities-container" class="card-container">
        <%= render partial: "agent_activities", locals: { agent_activities: @agent_activities } %>
      </div>
    </div>
    
    <!-- LLM Calls Section -->
    <div class="dashboard-section">
      <h2>Recent LLM Calls</h2>
      <div id="llm-calls-container" class="card-container">
        <%= render partial: "llm_calls", locals: { llm_calls: @llm_calls } %>
      </div>
    </div>
    
    <!-- Events Section -->
    <div class="dashboard-section">
      <h2>Latest Events</h2>
      <div id="events-container" class="card-container">
        <%= render partial: "events", locals: { events: @events } %>
      </div>
    </div>
    
    <!-- Human Input Requests Section -->
    <div class="dashboard-section">
      <h2>Pending Human Input</h2>
      <div id="human-input-requests-container" class="card-container">
        <%= render partial: "human_input_requests", locals: { human_input_requests: @human_input_requests } %>
      </div>
    </div>
  </div>
</div>

<%= turbo_stream_from "dashboard" %>

<!-- Turbo frame for modal dialogs -->
<%= turbo_frame_tag "modal" %>

<div data-controller="dashboard-refresh" 
     data-dashboard-refresh-interval-value="5000"
     data-dashboard-refresh-url-value="<%= dashboard_path(format: :turbo_stream) %>">
</div>
